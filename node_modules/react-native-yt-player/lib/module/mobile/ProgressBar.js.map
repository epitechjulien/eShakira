{"version":3,"sources":["ProgressBar.tsx"],"names":["React","useRef","StyleSheet","View","Animated","Easing","Slider","value","visible","seekTo","duration","pauseVideo","playVideo","fullScreen","styles","container","bottom","progress","zIndex","elevation","p","require","Progress","ref","Value","timing","current","toValue","easing","inOut","ease","start","outerBar","flex","backgroundColor","height","create","alignSelf","width","position","transform","translateY","alignItems","flexDirection"],"mappings":"kHAAA,MAAOA,CAAAA,KAAP,EAAgBC,MAAhB,KAA8B,OAA9B,CACA,OAASC,UAAT,CAAqBC,IAArB,KAAiC,cAAjC,CACA,MAAOC,CAAAA,QAAP,EAAmBC,MAAnB,KAAiC,yBAAjC,CACA,MAAOC,CAAAA,MAAP,KAAmB,gCAAnB,CAYA,eAAe,kBACbC,CAAAA,KADa,MACbA,KADa,CAEbC,OAFa,MAEbA,OAFa,CAGbC,MAHa,MAGbA,MAHa,CAIbC,QAJa,MAIbA,QAJa,CAKbC,UALa,MAKbA,UALa,CAMbC,SANa,MAMbA,SANa,CAObC,UAPa,MAObA,UAPa,OASb,qBAAC,IAAD,EAAM,KAAK,CAAE,CAACC,MAAM,CAACC,SAAR,CAAmB,CAAEC,MAAM,CAAEH,UAAU,CAAG,EAAH,CAAQ,CAA5B,CAAnB,CAAb,iDACE,oBAAC,QAAD,EAAU,QAAQ,CAAEN,KAApB,iDADF,CAEGC,OAAO,EACN,oBAAC,MAAD,EACE,KAAK,CAAE,CAACM,MAAM,CAACG,QAAR,CAAkB,CAAEC,MAAM,CAAE,EAAV,CAAcC,SAAS,CAAE,EAAzB,CAAlB,CADT,CAEE,YAAY,CAAE,CAFhB,CAGE,cAAc,CAAER,UAHlB,CAIE,iBAAiB,CAAE,2BAAAS,CAAC,CAAI,CACtBX,MAAM,CAACW,CAAC,CAAGV,QAAL,CAAN,CACAE,SAAS,GACV,CAPH,CAQE,YAAY,CAAE,CARhB,CASE,qBAAqB,CAAC,KATxB,CAUE,qBAAqB,CAAC,MAVxB,CAWE,KAAK,CAAEL,KAXT,CAYE,UAAU,CAAEc,OAAO,CAAC,mBAAD,CAZrB,iDAHJ,CATa,EAAf,EA8BA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,OAAwC,IAArCL,CAAAA,QAAqC,OAArCA,QAAqC,CACvD,GAAMM,CAAAA,GAAG,CAAGtB,MAAM,CAAC,GAAIG,CAAAA,QAAQ,CAACoB,KAAb,CAAmB,CAAnB,CAAD,CAAlB,CACApB,QAAQ,CAACqB,MAAT,CAAgBF,GAAG,CAACG,OAApB,CAA6B,CAC3BC,OAAO,CAAEV,QADkB,CAE3BP,QAAQ,CAAE,GAFiB,CAG3BkB,MAAM,CAAEvB,MAAM,CAACwB,KAAP,CAAaxB,MAAM,CAACyB,IAApB,CAHmB,CAA7B,EAIGC,KAJH,GAMA,MACE,qBAAC,IAAD,EAAM,KAAK,CAAEjB,MAAM,CAACkB,QAApB,iDACE,oBAAC,QAAD,CAAU,IAAV,EACE,KAAK,CAAE,CAAEC,IAAI,CAAEV,GAAG,CAACG,OAAZ,CAAqBQ,eAAe,CAAE,KAAtC,CAA6CC,MAAM,CAAE,CAArD,CADT,iDADF,CADF,CAOD,CAfD,CAiBA,GAAMrB,CAAAA,MAAM,CAAGZ,UAAU,CAACkC,MAAX,CAAkB,CAC/BrB,SAAS,CAAE,CACTsB,SAAS,CAAE,QADF,CAETC,KAAK,CAAE,MAFE,CAGTH,MAAM,CAAE,CAHC,CAITI,QAAQ,CAAE,UAJD,CAKTvB,MAAM,CAAE,CALC,CADoB,CAQ/BC,QAAQ,CAAE,CACRqB,KAAK,CAAE,MADC,CAERH,MAAM,CAAE,CAFA,CAGRI,QAAQ,CAAE,UAHF,CAIRvB,MAAM,CAAE,CAJA,CAKRkB,eAAe,CAAE,aALT,CAMRM,SAAS,CAAE,CAAC,CAAEC,UAAU,CAAE,CAAd,CAAD,CANH,CARqB,CAgB/BT,QAAQ,CAAE,CACRC,IAAI,CAAE,CADE,CAERE,MAAM,CAAE,CAFA,CAGRO,UAAU,CAAE,UAHJ,CAIRC,aAAa,CAAE,KAJP,CAKRT,eAAe,CAAE,MALT,CAMRI,KAAK,CAAE,MANC,CAhBqB,CAAlB,CAAf","sourcesContent":["import React, { useRef } from \"react\";\nimport { StyleSheet, View } from \"react-native\";\nimport Animated, { Easing } from \"react-native-reanimated\";\nimport Slider from \"@react-native-community/slider\";\n\ntype Props = {\n  value: number;\n  visible: Boolean;\n  fullScreen: Boolean;\n  duration: number;\n  playVideo: () => void;\n  pauseVideo: () => void;\n  seekTo: (t: number) => void;\n};\n\nexport default ({\n  value,\n  visible,\n  seekTo,\n  duration,\n  pauseVideo,\n  playVideo,\n  fullScreen\n}: Props) => (\n  <View style={[styles.container, { bottom: fullScreen ? 20 : 0 }]}>\n    <Progress progress={value} />\n    {visible && (\n      <Slider\n        style={[styles.progress, { zIndex: 99, elevation: 99 }]}\n        minimumValue={0}\n        onSlidingStart={pauseVideo}\n        onSlidingComplete={p => {\n          seekTo(p * duration);\n          playVideo();\n        }}\n        maximumValue={1}\n        minimumTrackTintColor=\"red\"\n        maximumTrackTintColor=\"#FFF\"\n        value={value}\n        thumbImage={require(\"./icons/thumb.png\")}\n      />\n    )}\n  </View>\n);\n\nconst Progress = ({ progress }: { progress: number }) => {\n  const ref = useRef(new Animated.Value(0));\n  Animated.timing(ref.current, {\n    toValue: progress,\n    duration: 250,\n    easing: Easing.inOut(Easing.ease)\n  }).start();\n\n  return (\n    <View style={styles.outerBar}>\n      <Animated.View\n        style={{ flex: ref.current, backgroundColor: \"red\", height: 2 }}\n      />\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    alignSelf: \"center\",\n    width: \"100%\",\n    height: 2,\n    position: \"absolute\",\n    bottom: 0 // animated to 20 on fullScreen\n  },\n  progress: {\n    width: \"100%\",\n    height: 8,\n    position: \"absolute\",\n    bottom: 0,\n    backgroundColor: \"transparent\",\n    transform: [{ translateY: 3 }]\n  },\n  outerBar: {\n    flex: 1,\n    height: 2,\n    alignItems: \"flex-end\",\n    flexDirection: \"row\",\n    backgroundColor: \"#FFF\",\n    width: \"100%\"\n  }\n});\n"]}